### Bit Manipulation

### **1. Missing Number**

#### **Problem Description**
Given an array `nums` containing `n` distinct numbers in the range `[0, n]`, return the one number that is missing from the array.

---

#### **Pseudocode**
1. Calculate the sum of the first `n` natural numbers using the formula:  
   \[
   \text{sum}_{expected} = \frac{n \times (n+1)}{2}
   \]
2. Calculate the actual sum of the array elements.
3. The missing number is the difference between `sum_expected` and the actual sum.

---

#### **Golang Solution**
```go
package main

import "fmt"

func missingNumber(nums []int) int {
	n := len(nums)
	expectedSum := n * (n + 1) / 2
	actualSum := 0
	for _, num := range nums {
		actualSum += num
	}
	return expectedSum - actualSum
}

func main() {
	nums := []int{3, 0, 1}
	fmt.Println(missingNumber(nums)) // Output: 2
}
```

---

#### **Python Solution**
```python
def missingNumber(nums):
    n = len(nums)
    expected_sum = n * (n + 1) // 2
    actual_sum = sum(nums)
    return expected_sum - actual_sum

# Test case
nums = [3, 0, 1]
print(missingNumber(nums))  # Output: 2
```

---

### **2. Counting Bits**

#### **Problem Description**
Given an integer `n`, return an array of the number of `1`s in the binary representation of every number in the range `[0, n]`.

---

#### **Pseudocode**
1. Create a result array of size `n + 1`.
2. Initialize `dp[0]` to `0`.
3. For each number `i` from `1` to `n`:
   - Use the relation:
     \[
     dp[i] = dp[i >> 1] + (i \& 1)
     \]
4. Return the result array.

---

#### **Golang Solution**
```go
package main

import "fmt"

func countBits(n int) []int {
	dp := make([]int, n+1)
	for i := 1; i <= n; i++ {
		dp[i] = dp[i>>1] + (i & 1)
	}
	return dp
}

func main() {
	fmt.Println(countBits(5)) // Output: [0, 1, 1, 2, 1, 2]
}
```

---

#### **Python Solution**
```python
def countBits(n):
    dp = [0] * (n + 1)
    for i in range(1, n + 1):
        dp[i] = dp[i >> 1] + (i & 1)
    return dp

# Test case
print(countBits(5))  # Output: [0, 1, 1, 2, 1, 2]
```

---

### **3. Single Number**

#### **Problem Description**
Given a non-empty array of integers `nums`, every element appears twice except for one. Find that single one.

---

#### **Pseudocode**
1. Initialize a variable `result` to `0`.
2. Iterate through the array and XOR each number with `result`.
3. Return the `result`.

---

#### **Golang Solution**
```go
package main

import "fmt"

func singleNumber(nums []int) int {
	result := 0
	for _, num := range nums {
		result ^= num
	}
	return result
}

func main() {
	nums := []int{4, 1, 2, 1, 2}
	fmt.Println(singleNumber(nums)) // Output: 4
}
```

---

#### **Python Solution**
```python
def singleNumber(nums):
    result = 0
    for num in nums:
        result ^= num
    return result

# Test case
nums = [4, 1, 2, 1, 2]
print(singleNumber(nums))  # Output: 4
```

---

### **4. Intersection of Two Arrays II**

#### **Problem Description**
Given two integer arrays `nums1` and `nums2`, return an array of their intersection. Each element in the result must appear as many times as it shows in both arrays.

---

#### **Pseudocode**
1. Count the frequency of elements in `nums1`.
2. Traverse `nums2`, and for each element that exists in the frequency map of `nums1`, add it to the result and decrement its count.
3. Return the result.

---

#### **Golang Solution**
```go
package main

import "fmt"

func intersect(nums1 []int, nums2 []int) []int {
	freq := make(map[int]int)
	for _, num := range nums1 {
		freq[num]++
	}

	result := []int{}
	for _, num := range nums2 {
		if freq[num] > 0 {
			result = append(result, num)
			freq[num]--
		}
	}
	return result
}

func main() {
	nums1 := []int{4, 9, 5}
	nums2 := []int{9, 4, 9, 8, 4}
	fmt.Println(intersect(nums1, nums2)) // Output: [4, 9]
}
```

---

#### **Python Solution**
```python
def intersect(nums1, nums2):
    from collections import Counter
    freq = Counter(nums1)
    result = []
    for num in nums2:
        if freq[num] > 0:
            result.append(num)
            freq[num] -= 1
    return result

# Test case
nums1 = [4, 9, 5]
nums2 = [9, 4, 9, 8, 4]
print(intersect(nums1, nums2))  # Output: [4, 9]
```

---

### **5. Find the Difference**

#### **Problem Description**
Given two strings `s` and `t` where `t` is generated by shuffling `s` and adding one more letter, find the letter that was added.

---

#### **Pseudocode**
1. Initialize a variable `result` to `0`.
2. XOR all characters in `s` and `t`.
3. Return the resulting character.

---

#### **Golang Solution**
```go
package main

import "fmt"

func findTheDifference(s string, t string) byte {
	result := byte(0)
	for i := range s {
		result ^= s[i]
	}
	for i := range t {
		result ^= t[i]
	}
	return result
}

func main() {
	s := "abcd"
	t := "abcde"
	fmt.Printf("%c\n", findTheDifference(s, t)) // Output: e
}
```

---

#### **Python Solution**
```python
def findTheDifference(s, t):
    result = 0
    for char in s + t:
        result ^= ord(char)
    return chr(result)

# Test case
s = "abcd"
t = "abcde"
print(findTheDifference(s, t))  # Output: e
```

---
